---
date: "2021-07-07"
title: "log 2021-07-07"
categories: "blog"
tags: ["blog", "sport", "project", "pseudo"]
---

----------

- [title](#title)
- [pseudo](#pseudo)
  - [static 빌드 적용 방법 전파](#static-빌드-적용-방법-전파)
- [sport](#sport)
  - [codeforces 730 div 2 참가](#codeforces-730-div-2-참가)
    - [A](#a)
    - [B](#b)
    - [C](#c)
- [project](#project)
  - [프로젝트 구상](#프로젝트-구상)

## title

## pseudo

### static 빌드 적용 방법 전파

cors문제는 서버가 2대여서 발생하는 것으로 판단됨에 따라, 프론트를 빌드하여 정적 서빙하는 방법을 전달하기로 함.

서빙되는 루트 위치인 /static은 `nuxt.config.js`에서 `router: base` 속성을 추가해서 해결함.

조금 까다로운 부분이, 프론트에서는 요청 주소를 `/api/...` 로 통일하게 하고 싶은데, 어디를 건드려야 하는 것인지 잘 모르겠다. 프록시를 적용시켰으나 정적 빌드를 시키면 적용이 되지 않아 `/api`로 시작하는 주소가 pathRewrite 적용되지 않고 그대로 백엔드에 들어가서 에러가 난다.

<https://axios.nuxtjs.org/extend>
위 문서에 따르면 axios 인스턴스를 커스터마이징 가능한 것으로 보인다.

## sport

### codeforces 730 div 2 참가

#### A

<http://codeforces.com/contest/1543/problem/A>

임의 정수 m에 대해 m, m+k 두 수의 최대 공약수를 최대로 하는 m 찾기
수의 차이는 k 이므로, m이 0이면 0, k의 최대 공약수는 k로 계산되는 듯하다.
m이 k이면 k와 2k로, 역시 최대공약수가 k이다.
즉, 1 8일때는 1 빼서 0 7을 만들어야 하고, 6 13 일때는 1 더해서 7 14를 만들어야 한다.
작은 수를 가장 가까운 k의 배수로 만들면 되나??

#### B

<http://codeforces.com/contest/1543/problem/B>

모든 배열 원소간 차이값의 합을 최소화한 결과 구하기

배열 크기가 10억까지 커지므로 n^2으로 구할 수는 없다.
일단은 그냥 평균을 구해서 분배하면 차이가 적지 않을까 싶은데..
그것의 차이합을 구하는 것도 문제다.
일단, 배열 개수가 n개 일때, n을 넘는 값은 빼서 무시할 수 있다.
즉, 0과 1을 배치한 결과의 합만 구하면 된다.
합이 3n+k인 경우(k < n), k개의 1과, n-k개의 0을 가진 원소로 배치될 것이다.

하나의 1은 0과만 차이를 발생하므로, 답은 1의 개수 \* 0의 개수가 된다.

아. 이 문제도, 이전 문제처럼, 이번 n으로 지정할 지, 이전 n으로 지정할 지에 따라 답이 달라진다. 아래와 같이.
n = 7, sum = 12
1 1 1 1 1 0 0
2 2 2 2 2 1 1

아닌데? 안달라지는데...? 왜틀린거지??

아!!! 오버플로우!

합만 64로 바꿨다 또틀림 ..
n까지 64로 해야한다.d

#### C

<http://codeforces.com/contest/1543/problem/C>

다회 시행에서 기대 시행 횟수 구하기. 그런데, 경우의 수가 여럿 가능

c,m,p중 p를 뽑으면 끝나는데, c나 m을 뽑으면 해당에서 v를 빼서 나머지들에 v확률을 분배한다. 그렇다면, p가 매 시행에서 받는 확률은 v/2가 된다. 한 쪽에 0이 된 후에는 p가 매 시행 v확률을 받는다.
이를 이용해서 바로 풀 수 없을까?
c만 픽하는 경우, m만 픽하는 경우는 쉽지만, 섞어서 픽할 경우 언제 한쪽이 0이 될지 알기 어렵다.
dfs를 쓰고 싶은데, 상태를 어떻게 해야 할지? 종료조건도 필요할 것..

## project

### 프로젝트 구상

정적 페이지 뿐 아니라 미니게임 서버같은 것을 만드려면 실시간 통신에 대해서도 알아야 한다. 하지만 당장 그부분까지 할 것은 아니고, 지금 필요한 부분은 관리 배포에 대한 것이다. 먼저 ci/cd를 만들 생각인데, msa에서 ci/cd를 하려면 어떻게 해야 하나??

<https://waspro.tistory.com/447>

일단 하나씩 추가하는게 좋을 듯하다.
알파이로 커버 되는 한까지는 돌리되, 부족하면 람다를 사용하면 될 듯하다.

----------
