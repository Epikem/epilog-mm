---
date: "2019-04-17"
title: "vocabo 개발 상황"
category: "blog"
tags:
  - "project/vocabo"
  - "blog"
  - "kubernetes"
banner: "/assets/bg/1.jpg"
---

쿠버네티스에서 막힌 상태. 설정이 어려워서 그냥 거의 복붙하다시피 해야할듯.

제대로 쿠버네티스 설정을 해서 gcp에 올려보아야 겠다.

현재 단어장 업데이트 기능은 없이 elastic과 server, client 이 세 개의 컨테이너만 돌리면 되는데, 자꾸 업로드해도 에러가 나서 하질 못하고 있었다. 정말 그냥 자원이 모자라서였는지 아니면 설정이 잘못된건지 (liveness check 등) 알아야 한다.

수정해야 할 부분:
1. 쿠버네티스에서 client와 server연결

client에서 `/en/query` 이런식으로 요청하는데, 그러면 같은 포트를 쓰게 해도 되는건가? 겹치면 문제가 되지 않나? 그리고 쿠버네티스 노드 포트와 클러스터 ip가 각각 어떻게 동작하는건지 모르겠다. 그리고 포트와 대상 포트의 의미도 모르겠다. 분명 들어오는 포트와 내부에서 연결되는 포트를 다르게 하게 위해 필요한 기능같은데, 물음표 설명을 봐도 뭔소린지 이해가 안 된다.

성능 높이니 클라이언트는 돌아가는게 확인이 되었는데, 서버랑 연결이 안 되고 있는 것으로 보인다.

## tags
- \#vocabo, \#kubernetes, \#blog